(this["webpackJsonpflickr-image-search"]=this["webpackJsonpflickr-image-search"]||[]).push([[0],{18:function(e,t,a){e.exports=a(48)},24:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),s=(a(23),a(24),a(2)),l=a.n(s),i=a(3),u=a(4),m=a(15),p=a(16),f=a.n(p);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v="https://api.flickr.com/services/rest/",E={api_key:"6b3575d10435de5f010fc941f5eff94a",safe_search:1,per_page:12,format:"json",nojsoncallback:1,extras:"tag"},g=function(e){var t=e.id,a=e.farm,n=e.secret,r=e.server;return"https://farm".concat(a,".staticflickr.com/").concat(r,"/").concat(t,"_").concat(n,".jpg")},b=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=d({},E,{method:"flickr.photos.search",tags:t}),e.abrupt("return",f.a.get(v,{params:a}).then((function(e){var t=e.data;if("fail"===t.stat||!t.photos)throw new Error("Flickr request failed.");return(t.photos.photo||[]).map((function(e){return e.photoURL=g(e),e}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(a(43),function(e){var t=e.photo;return r.a.createElement("div",{className:"photo"},r.a.createElement("div",{className:"photo_headline"},r.a.createElement("a",{href:t.photoURL,target:"_blank"},r.a.createElement("h4",{className:"photo_title has-text-link"},t.title||"Unknown"))),r.a.createElement("figure",null,r.a.createElement("img",{src:t.photoURL||"https://placekitten.com/460/340",alt:"Cat"})))}),O=a(17),y=a.n(O),j=(a(45),function(e){var t=e.onSearch,a=r.a.createRef(),n=y()((function(){var e=a.current.value;e.length>2&&t(e)}),1e3);return r.a.createElement("div",{className:"search content"},r.a.createElement("p",{className:"has-text-info"},"Find image by tags:"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input search_input",type:"text",ref:a,onChange:n,placeholder:" enter search tag ..."}))))}),N=(a(46),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-flickr"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))}),w=(a(47),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=s[0],p=s[1],f=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",p(!0),c([]),e.prev=3,a=t.replace(" ",","),e.next=7,b(a);case 7:n=e.sent,c(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Could not retrieve photos. Please check your credentials.");case 14:p(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"title has-text-centered has-text-primary"},"Flickr Image Search"))),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement(j,{onSearch:f}),r.a.createElement("div",{className:"photoStream columns is-multiline"},m?r.a.createElement(N,null):a.map((function(e,t){return r.a.createElement("div",{key:"photo_".concat(t),className:"column is-one-quarter"},r.a.createElement(k,{photo:e}))})))))))});o.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.82abd170.chunk.js.map